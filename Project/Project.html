<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="RL.css">
    <title>Rocket League Overlay</title>
</head>
<body>
    <div class="gauge">
        <svg 
            class="progress-ring"
            width = "160"
            height = 160>
            <circle 
                class="progress-ring__circle"
                stroke = "white"
                stroke-width = "15"
                fill = "transparent"
                r="65"
                cx="80"
                cy="80"/>
        </svg>
        <input 
            value="75"
            type="number"
            step="5"
            min="0"
            max="100"
            placeholder="progress"
        >
    </div>
        <div id="progress-bar"></div>
        <div id="progress-bar2"></div>
            
        <script>
            var circle = document.querySelector('circle');
            var radius = circle.r.baseVal.value;
            var circumference = (radius *2 * Math.PI);
            circle.style.strokeDasharray = `${circumference} ${circumference}`;
            circle.style.strokeDashoffset = `${circumference}`;

            function setProgress(percent){
                const offset = (circumference - percent / 100 * circumference);
                circle.style.strokeDashoffset = offset;
                var line = document.getElementById("progress-bar");
                line.style.width = Math.round(percent);
                console.log(Math.round(percent));
                var line2 = document.getElementById("progress-bar2");
            }

            const input = document.querySelector('input');
            setProgress(input.value * .75);
            
            input.addEventListener('change', function(e) {
                if (input.value < 101 && input.value > -1){
                    setProgress(input.value * .75);
                }
            })
        </script>
    
    
</body>
</html>